<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.5.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":"mac"},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    },
    sidebarPadding: 40
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="XLor&#39;s Blog">
<meta property="og:url" content="https://xlor.cn/page/6/index.html">
<meta property="og:site_name" content="XLor&#39;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="XLor">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://xlor.cn/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>XLor's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-150361094-2"></script>
    <script>
      var host = window.location.hostname;
      if (host !== "localhost" || !true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-150361094-2');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">XLor's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <h1 class="site-subtitle" itemprop="description">跃迁引擎启动</h1>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-训练">

    <a href="/trainings/" rel="section"><i class="fa fa-fw fa-keyboard-o"></i>训练</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xlor.cn/2020/2/round616/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="XLor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XLor's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/2/round616/" class="post-title-link" itemprop="url">Codeforces Round 616 题解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-02-03 14:32:06" itemprop="dateCreated datePublished" datetime="2020-02-03T14:32:06+08:00">2020-02-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-20 19:12:34" itemprop="dateModified" datetime="2022-11-20T19:12:34+08:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/" itemprop="url" rel="index">
                    <span itemprop="name">Codeforces</span>
                  </a>
                </span>
            </span>

          
            <span id="/2020/2/round616/" class="post-meta-item leancloud_visitors" data-flag-title="Codeforces Round 616 题解" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="A-Mind-Control"><a href="#A-Mind-Control" class="headerlink" title="A Mind Control"></a>A Mind Control</h1><p>给定一个序列 $a_1, a_2,\dots, a_n$，有 $n$ 个人排好队按顺序拿数字，每次只能选择序列首尾拿一个。</p>
<p>你是第 $m$ 个人，你很聪明，但是除你以外所有人都是随便拿。你可以至多选择 $k$ 个人，强迫他们拿首部还是尾部，问最坏情况下，你拿到的最大数字。</p>
<p>枚举你强迫多少人拿首部，剩余的人拿尾部，而你就是枚举剩余的人拿多少首部尾部，每种有两个选择，你取 $\max$ 后，对所有情况取 $\min$，最后对于枚举的东西再取 $\max$。</p>
<h1 id="B-Irreducible-Anagrams"><a href="#B-Irreducible-Anagrams" class="headerlink" title="B Irreducible Anagrams"></a>B Irreducible Anagrams</h1><p>定义等价表示两个串，每种字母出现次数相同。定义 $t$ 对于 $s$ 的合法分解，$t$ 和 $s$，等价，至少再某些位置切开后，$t$ 和 $s$ 的对应串等价。</p>
<p>给定一个母串，每次询问当中的一个子串，是否可以存在一个串 $t$ 和它等价，但是不可分解。</p>
<p>串长等于 $1$，其本身与自己不可分解。</p>
<p>出现字母种类大于 $2$，存在不可分解。</p>
<p>出现种类数为 $2$，两端相同则都可以分解，否则存在不可分解。</p>
<h1 id="C-Prefix-Enlightenment"><a href="#C-Prefix-Enlightenment" class="headerlink" title="C Prefix Enlightenment"></a>C Prefix Enlightenment</h1><p>一排灯，给定初始状态，有 $k$ 个开关，每个开关控制一个灯的子集，且任意 $3$ 个子集不交。对于每个前缀，求将它们同时点亮的最少开关数。</p>
<p>题目条件转化为每个灯最多出现在两个子集内。将开关建图，边为每个灯泡，问题变成你现在需要对每个点染色，表示开关状态。</p>
<p>先假装所有灯都亮，对图上的每个开关染色。具体地，就是看灯泡的状态决定相邻的开关状态。</p>
<p>于是，枚举前 $i$ 个灯，加入的时候，就是将某些点（对应联通块）连接，并加入答案。如果这个灯只出现在一个子集内，就钦定一下这个开关的颜色。</p>
<p>钦定不选，即设置大小为 $\infty$。</p>
<h1 id="D-Coffee-Varieties"><a href="#D-Coffee-Varieties" class="headerlink" title="D Coffee Varieties"></a>D Coffee Varieties</h1><p>藏着一个数组，你现在要猜出当中不同数字个数。</p>
<p>维护着一个长度为 $k$ 询问队列，表示最近的 $k$ 次询问。每次询问会告诉你，你询问的位置是否在队列里出现，然后加入队列，如果队列长度大于 $k$，则删除队首元素。</p>
<p>你还有一个操作是清空队列。清空最多 $30000$ 次，询问最多 ${ 3n^2 \over 2k }$ 次。</p>
<p>考虑每种元素只保留第一个，删除每种元素之后的出现。</p>
<p>将序列按照 $k \over 2$ 的大小分块，块内的相同关系容易处理。</p>
<p>在 Easy Version 中，你只需要暴力枚举两个块即可，期望的次数 $\frac{k}{2}\frac{n}{k}(\frac{n}{k}-1)$ 次。</p>
<p>在 Hard Version 中，将块看成一个完全图，枚举所有边时，可以将块放在一起枚举，即将图划分成一堆路径。</p>
<p>具体地，可以枚举块间的距离 $i$，对于块号模 $i$ 同余的块，连在一起询问。下图中，每种颜色代表一次连续的询问。</p>
<p><img src="https://i.loli.net/2020/02/03/jTS1aGCNdiwQp4b.png" alt="询问方式"></p>
<p>对于每条路径，需要的次数是 $\frac{k}{2}(\text{边数}+1)$。</p>
<p>总的询问数大约是 $\frac{1}{2}\frac{k}{2}\frac{n}{k}(\frac{n}{k}-1) + \frac{k}{2}\text{路径数}$。</p>
<p>路径数大约是 $1 + 2 + \dots + \frac{n}{k}$，因此询问次数小于 ${ 3n^2 \over 2k }$ 次。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/2/round616/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xlor.cn/2020/1/2019ec/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="XLor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XLor's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/1/2019ec/" class="post-title-link" itemprop="url">2019 ICPC Asia East Final</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-01-26 21:59:50" itemprop="dateCreated datePublished" datetime="2020-01-26T21:59:50+08:00">2020-01-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-20 19:12:34" itemprop="dateModified" datetime="2022-11-20T19:12:34+08:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%AD%E7%BB%83/" itemprop="url" rel="index">
                    <span itemprop="name">训练</span>
                  </a>
                </span>
            </span>

          
            <span id="/2020/1/2019ec/" class="post-meta-item leancloud_visitors" data-flag-title="2019 ICPC Asia East Final" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <table>
<thead>
<tr>
<th align="center">rank</th>
<th align="center">solved</th>
<th align="center">A</th>
<th align="center">B</th>
<th align="center">C</th>
<th align="center">D</th>
<th align="center">E</th>
<th align="center">F</th>
<th align="center">G</th>
<th align="center">H</th>
<th align="center">I</th>
<th align="center">J</th>
<th align="center">K</th>
<th align="center">L</th>
<th align="center">M</th>
</tr>
</thead>
<tbody><tr>
<td align="center">70</td>
<td align="center">4</td>
<td align="center">O</td>
<td align="center">.</td>
<td align="center">Ø</td>
<td align="center">.</td>
<td align="center">O</td>
<td align="center">.</td>
<td align="center">Ø</td>
<td align="center">O</td>
<td align="center">.</td>
<td align="center">.</td>
<td align="center">.</td>
<td align="center">.</td>
<td align="center">O</td>
</tr>
</tbody></table>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/1/2019ec/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xlor.cn/2020/1/boruvka/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="XLor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XLor's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/1/boruvka/" class="post-title-link" itemprop="url">Borůvka 算法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-01-26 13:57:28" itemprop="dateCreated datePublished" datetime="2020-01-26T13:57:28+08:00">2020-01-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-20 19:12:34" itemprop="dateModified" datetime="2022-11-20T19:12:34+08:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%9B%BE%E8%AE%BA/" itemprop="url" rel="index">
                    <span itemprop="name">图论</span>
                  </a>
                </span>
            </span>

          
            <span id="/2020/1/boruvka/" class="post-meta-item leancloud_visitors" data-flag-title="Borůvka 算法" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Boruvka-算法"><a href="#Boruvka-算法" class="headerlink" title="Borůvka 算法"></a>Borůvka 算法</h1><p>定义 $E’$ 为我们当前找到的最小生成森林的边。在算法执行过程中，我们逐步向 $E’$ 加边，定义 <strong>连通块</strong> 表示一个点集 $V’\subseteq V$ ，且这个点集中的任意两个点 $u$ , $v$ 在 $E’$ 中的边构成的子图上是连通的（互相可达）。</p>
<p>定义一个连通块的 <strong>最小边</strong> 为它连向其它连通块的边中权值最小的那一条。</p>
<p>初始时， $E’&#x3D;\varnothing$ ，每个点各自是一个连通块：</p>
<ol>
<li>计算每个点分别属于哪个连通块。将每个连通块都设为“没有最小边”。</li>
<li>遍历每条边 $(u, v)$ ，如果 $u$ 和 $v$ 不在同一个连通块，就用这条边的边权分别更新 $u$ 和 $v$ 所在连通块的最小边。</li>
<li>如果所有连通块都没有最小边，退出程序，此时的 $E’$ 就是原图最小生成森林的边集。否则，将每个有最小边的连通块的最小边加入 $E’$ ，返回第一步。</li>
</ol>
<p>当原图连通时，每次迭代连通块数量至少减半，算法只会迭代不超过 $O(\log V)$ 次，而原图不连通时相当于多个子问题，因此算法复杂度是 $O(E\log V)$ 的。给出算法的伪代码：（修改自 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Bor%C5%AFvka%27s_algorithm">维基百科</a> ）</p>
<p>$$<br>\begin{array}{ll}<br>1 &amp;  \textbf{Input. } \text{A graph }G\text{ whose edges have distinct weights. } \<br>2 &amp;  \textbf{Output. } \text{The minimum spanning forest of }G .  \<br>3 &amp;  \textbf{Method. }  \<br>4 &amp; \text{Initialize a forest }F\text{ to be a set of one-vertex trees} \<br>5 &amp;  \textbf{while } \text{True} \<br>6 &amp;  \qquad \text{Find the components of }F\text{ and label each vertex of }G\text{ by its component } \<br>7 &amp;  \qquad \text{Initialize the cheapest edge for each component to “None”} \<br>8 &amp;  \qquad  \textbf{for } \text{each edge }(u, v)\text{ of }G  \<br>9 &amp;  \qquad\qquad  \textbf{if }  u\text{ and }v\text{ have different component labels} \<br>10 &amp;  \qquad\qquad\qquad  \textbf{if }  (u, v)\text{ is cheaper than the cheapest edge for the component of }u  \<br>11 &amp;  \qquad\qquad\qquad\qquad\text{ Set }(u, v)\text{ as the cheapest edge for the component of }u \<br>12 &amp;  \qquad\qquad\qquad  \textbf{if }  (u, v)\text{ is cheaper than the cheapest edge for the component of }v  \<br>13 &amp;  \qquad\qquad\qquad\qquad\text{ Set }(u, v)\text{ as the cheapest edge for the component of }v  \<br>14 &amp;  \qquad  \textbf{if }\text{ all components’cheapest edges are “None”} \<br>15 &amp;  \qquad\qquad  \textbf{return }  F \<br>16 &amp;  \qquad  \textbf{for }\text{ each component whose cheapest edge is not “None”} \<br>17 &amp;  \qquad\qquad\text{ Add its cheapest edge to }F \<br>\end{array}<br>$$</p>
<blockquote>
<p>转载自 <a target="_blank" rel="noopener" href="https://oi-wiki.org/graph/mst/#boruvka">最小生成树 - OI Wiki</a></p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/1/boruvka/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xlor.cn/2020/1/cometoj12/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="XLor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XLor's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/1/cometoj12/" class="post-title-link" itemprop="url">Comet OJ Contest 12 F Substring Query 题解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-01-25 19:05:04" itemprop="dateCreated datePublished" datetime="2020-01-25T19:05:04+08:00">2020-01-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-20 19:12:34" itemprop="dateModified" datetime="2022-11-20T19:12:34+08:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%97%E7%AC%A6%E4%B8%B2/" itemprop="url" rel="index">
                    <span itemprop="name">字符串</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%97%E7%AC%A6%E4%B8%B2/KMP/" itemprop="url" rel="index">
                    <span itemprop="name">KMP</span>
                  </a>
                </span>
            </span>

          
            <span id="/2020/1/cometoj12/" class="post-meta-item leancloud_visitors" data-flag-title="Comet OJ Contest 12 F Substring Query 题解" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="题面"><a href="#题面" class="headerlink" title="题面"></a>题面</h1><p>定义 <code>half border</code> 为长度不超过一半的 <code>border</code>。</p>
<p>给定一个长度为 $n$ 的字符串 $s$，$q$ 次询问，每次独立地删除一个子串 $[l_i,r_i]$，左右连起来，询问这个串的 <code>half border</code> 长度和。 </p>
<p>其中 $1 \le n, q \le 5 \cdot 10^5$。</p>
<h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><p>不妨设左半边比右半边长。</p>
<p>有两部分贡献：</p>
<ol>
<li><p><code>border</code> 不跨过边界，这部分就是原串长度小于 $\min(l_i, n-r_i+1)$ 的 <code>border</code> 之和，预处理后二分即可。</p>
</li>
<li><p><code>border</code> 跨过边界了边界，下面分析这部分如何计算。</p>
</li>
</ol>
<p><img src="https://i.loli.net/2020/01/25/jTgrQIwvhizW3cJ.png" alt="coj12-1.png"></p>
<p>观察到，实际上是前缀的 <code>border</code> 位置和后缀的 <code>border</code> 位置求了交。</p>
<p>对前缀和后缀分别建立 KMP 的 fail 树。询问离线到前缀树上的每个点。</p>
<p>设有询问 $[1, l_i]$ 和 $[r_i, n]$，在前缀树上根到 $l_i$ 的所有点，若其出现在后缀树上 $r_i$ 的子树内，则其会被算一次长度的贡献。</p>
<p>但是，上面没有考虑到 <code>half border</code> 的长度限制，设路径上的一个点 $k$，$2(k+n-r_i+1) \le l_i+n-r_i+1$，也就是 $k$ 小于某个值。对于这个限制，在路径上二分，把询问二次离线到对应的点，使用树状数组容易计算答案。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/1/cometoj12/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xlor.cn/2020/1/2018icpc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="XLor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XLor's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/1/2018icpc/" class="post-title-link" itemprop="url">The 2018 ICPC Asia Regional Contest 选做</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-01-23 23:08:34" itemprop="dateCreated datePublished" datetime="2020-01-23T23:08:34+08:00">2020-01-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-20 19:12:34" itemprop="dateModified" datetime="2022-11-20T19:12:34+08:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%AD%E7%BB%83/" itemprop="url" rel="index">
                    <span itemprop="name">训练</span>
                  </a>
                </span>
            </span>

          
            <span id="/2020/1/2018icpc/" class="post-meta-item leancloud_visitors" data-flag-title="The 2018 ICPC Asia Regional Contest 选做" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="徐州-D-Rikka-with-Subsequences"><a href="#徐州-D-Rikka-with-Subsequences" class="headerlink" title="徐州 D Rikka with Subsequences"></a>徐州 D Rikka with Subsequences</h1><p>UpSolved by XLor.</p>
<p>求每种本质不同好子序列的出现次数立方和。</p>
<p>令 $f(a)$ 表示子序列 $a$ 的出现次数，立方和展开一下，$\sum_{i&#x3D;1}^{f(a)} \sum_{j&#x3D;1}^{f(a)} \sum_{k&#x3D;1}^{f(a)} 1$。观察上式的实际意义，等价于将序列复制三份，求公共好子序列的个数。举例来说，假如 $a$ 作为子序列出现了 $2$ 次，分别出现在位置序列 $a_1,a_2$，那么有公共子序列 $(a_1,a_1,a_1)$ 一直到 $(a_2,a_2,a_2)$ 共 $8$ 种对应。</p>
<p>记 $dp(i,j,k)$ 表示在第一个串以 $i$ 结尾，第二个 $j$ 结尾，第三个 $k$ 结尾的方案数。$dp(i,j,k)$ 有值当且仅当 $a_i&#x3D;a_j&#x3D;a_k$。</p>
<p>$$<br>dp(i,j,k)&#x3D;[ a_i&#x3D;a_j&#x3D;a_k ]( \sum_{i’&#x3D;1}^{i-1} \sum_{j’&#x3D;1}^{j-1} \sum_{k’&#x3D;1}^{k-1} dp(i’,j’,k’) [M(a_{j’},a_i)] )<br>$$</p>
<p>转移过程相当于同时从 $(i’,j’,k’)$ 走到 $(i,j,k)$，我们将这个过程拆开变成 $3$ 个阶段，钦定先走 $i$，再走 $k$，最后走 $j$。也就是说最后一步的 $j’$ 和 $i$ 两个之间必须可以走。</p>
<p>枚举 $i$，令 $f(i,j,k) &#x3D; \sum_{i’&#x3D;1}^{i&#x3D;1} dp(i’,j,k)$, $g(i,j,k) &#x3D; f(i,j,k) [M(a_j, a_i)]$。</p>
<p>$$<br>dp(i,j,k)&#x3D;[ a_i&#x3D;a_j&#x3D;a_k ] ( \sum_{j’&#x3D;1}^{j-1} \sum_{k’&#x3D;1}^{k-1} \sum_{i’&#x3D;1}^{i&#x3D;1} dp(i’,j’,k’) [M(a_{j’}, a_i)]) \<br>dp(i,j,k)&#x3D;[ a_i&#x3D;a_j&#x3D;a_k ] ( \sum_{j’&#x3D;1}^{j-1} \sum_{k’&#x3D;1}^{k-1} g(i,j’,k’)) \<br>$$</p>
<p>因此，$dp$ 的转移，只需要对 $g$ 数组做一次二维前缀和即可。</p>
<h1 id="徐州-F-Rikka-with-Nice-Counting-Striking-Back"><a href="#徐州-F-Rikka-with-Nice-Counting-Striking-Back" class="headerlink" title="徐州 F Rikka with Nice Counting Striking Back"></a>徐州 F Rikka with Nice Counting Striking Back</h1><p>UpSolved by XLor</p>
<p>求母串的本质不同子串个数，且子串 $T$ 满足，对于任意非空串 $P$，若 $TP&#x3D;PT$，那么 $TP$ 不是 $S$ 的子串。</p>
<p>观察一下，对于子串 $T$，当存在 $TT$，$T$ 不合法，存在 $TTT$，$TT$ 不合法，也就是对于这样的一组串只会算一次。</p>
<p>上述等价于，减去多算的 $TT,TTT,TTTT,\dots$，暴力枚举每个 Runs 内部的每个右端点的周期串，哈希去重。</p>
<h1 id="徐州-G-Rikka-with-Intersections-of-Paths"><a href="#徐州-G-Rikka-with-Intersections-of-Paths" class="headerlink" title="徐州 G Rikka with Intersections of Paths"></a>徐州 G Rikka with Intersections of Paths</h1><p>UpSolved by XLor</p>
<p>给定树上 $q$ 条路径，求选出 $k$ 条有公共点的路径的方案数。</p>
<p>对于一种选择方案，公共点数减去公共边数等于 $1$。</p>
<p>对于所有点和边，分别求其出现在多少条路径上，相减即为答案。</p>
<h1 id="青岛-I-Soldier-Game"><a href="#青岛-I-Soldier-Game" class="headerlink" title="青岛 I Soldier Game"></a>青岛 I Soldier Game</h1><p>UpSolved by XLor.</p>
<p>给定一个序列，将序列划分为长度为 $1$ 或 $2$ 的子串，最小化每个子串和的极差。</p>
<p>显然，枚举最小值，dp 出可能的最小的最大值。</p>
<p>令 $\infty$ 表示情况不存在，$-\infty$ 表示任意。</p>
<p>记 $dp(i,0&#x2F;1)$ 表示 $i$ 位置是否被用过的最小最大值，当前下界为 $D$。</p>
<p>$$<br>dp(i,0)&#x3D;dp(i-1,1) \<br>dp(i,1)&#x3D;\min(\max(a_i+a_{i-1}, dp(i-1,0)), \max(a_i, dp(i-1,1)))<br>$$</p>
<p>上式中的 $a_i,a_i+a_{i-1}$ 均会在 $&lt; D$ 时，被换成 $\infty$。最终最小的最大值为 $dp(n,1)$。</p>
<p>上面的 $dp$ 状态改成可以线段树动态维护的，允许区间合并的状态。</p>
<p>令 $dp(l,r,0&#x2F;1,0&#x2F;1)$ 表示：</p>
<ul>
<li><p>00：$[l,r]$ 都被用上；</p>
</li>
<li><p>01：$l$ 和 $l-1$ 配对；</p>
</li>
<li><p>10：$r$ 没有被用上；</p>
</li>
<li><p>11：$l$ 和 $l-1$ 配对，且 $r$ 没有被用上。</p>
</li>
</ul>
<p>合并时，只需要枚举中间两个位置的情况即可。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/1/2018icpc/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xlor.cn/2020/1/wannaflywinter2020string/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="XLor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XLor's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/1/wannaflywinter2020string/" class="post-title-link" itemprop="url">2019 CCPC-Wannafly Winter Camp 串串题选做</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-01-23 12:49:24" itemprop="dateCreated datePublished" datetime="2020-01-23T12:49:24+08:00">2020-01-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-20 19:12:34" itemprop="dateModified" datetime="2022-11-20T19:12:34+08:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%97%E7%AC%A6%E4%B8%B2/" itemprop="url" rel="index">
                    <span itemprop="name">字符串</span>
                  </a>
                </span>
            </span>

          
            <span id="/2020/1/wannaflywinter2020string/" class="post-meta-item leancloud_visitors" data-flag-title="2019 CCPC-Wannafly Winter Camp 串串题选做" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Day-2"><a href="#Day-2" class="headerlink" title="Day 2"></a>Day 2</h1><h2 id="D-卡拉巴什的字符串"><a href="#D-卡拉巴什的字符串" class="headerlink" title="D 卡拉巴什的字符串"></a>D 卡拉巴什的字符串</h2><p>定义一个串的 LCP 集合，由每对后缀的 LCP 值组成。</p>
<p>给定一个母串，求它的每个前缀的这个集合的 mex。</p>
<p>考虑一个 endpos 等价类，如果它的出现位置不止一个，考虑某两个出现位置，它们的 LCP 为 $1$（必定存在，因为不存在的话与等价类定义不符），同时往左走一步，LCP 变成 $2$，一直到最大长度，都会出现。</p>
<p>因此答案必定是这样的结点的最大长度 $+1$。考虑这样的结点一定不是叶子结点，一定是一个内部结点，且根据后缀树的结构，内部不存在二度结点，因此只需要对所有内部节点取 $\max$ 即可。</p>
<p>注意特判：单字符集串，没有 $0$。</p>
<h2 id="K-破忒头的匿名信"><a href="#K-破忒头的匿名信" class="headerlink" title="K 破忒头的匿名信"></a>K 破忒头的匿名信</h2><p>给定至多 $5 \cdot 10^5$ 个长度总和至多 $5 \cdot 10^5$ 的模板串，每个模板串有花费 $cost_i$。</p>
<p>要求将母串分为数段，每段均为模板串，产生的代价是该串的花费。</p>
<p>暴力：建出 AC 自动机，母串在 AC 自动机上跑，每次暴力跳 fail 指针转移 dp。</p>
<p>优化：暴力跳 fail 可能会退化为 $O(n^2)$，注意到几个事实：串长的种类小于 $\sqrt{5 \cdot 10^5}$，而每次跳 fail 串长至少减一，因此扣出有效的转移即可。</p>
<h1 id="Day-3"><a href="#Day-3" class="headerlink" title="Day 3"></a>Day 3</h1><h2 id="J-简单字符串"><a href="#J-简单字符串" class="headerlink" title="J 简单字符串"></a>J 简单字符串</h2><p>定义 $f(S,k)$ 表示将字符串 $S$ 划分为至多 $k$ 段，对于所有划分方案，要求最小化这种划分的字典序最大串。</p>
<p>每次询问一个后缀 $S[l \dots |S|]$，划分为至多 $k$ 段的答案，若有多种答案，输出左端点最小的，且它必须在某一种划分中。</p>
<p>大胆猜测：一定切在后缀的 Lyndon 分解上。</p>
<p>求出每个后缀的 Lyndon 分解，记这个 Lyndon 分解长度为 $p$，和这个 $$ 在后面一共重复了 $cnt$ 次，开始讨论：</p>
<ol>
<li><p>后缀有一个整周期为 Lyndon 分解的长度，即类似 <code>bbbbbb</code>，我们肯定是尽量平均的划分，并且为了左端点最小，也就是取后缀的某几个周期的前缀。</p>
</li>
<li><p>$cnt$ 次 $p$ 后还有 Lyndon 分解，即类似 <code>bbbba</code>，如果 $cnt \bmod k &#x3D; 0$，我们将 $cnt$ 次 $p$ 平均分解，答案为划分后最后一个段。</p>
</li>
<li><p>同情况 $2$，$cnt \bmod k \neq 0$，当成 $cnt + 1$ 段平均分解，答案为该后缀的前缀。</p>
</li>
</ol>
<p>关于后两种情况的区别，如果整除的话，只将重复的 $cnt$ 段平均分解，那么答案就是最后一段，若你移动之前的某个分解位置，产生的字符串会大于这个最后一段（根据 Lyndon 分解）。其他情况就正常对所有段均分，取前缀即可。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/1/wannaflywinter2020string/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xlor.cn/2020/1/round612/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="XLor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XLor's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/1/round612/" class="post-title-link" itemprop="url">Codeforces Round 612 题解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-01-06 21:50:43" itemprop="dateCreated datePublished" datetime="2020-01-06T21:50:43+08:00">2020-01-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-20 19:12:34" itemprop="dateModified" datetime="2022-11-20T19:12:34+08:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/" itemprop="url" rel="index">
                    <span itemprop="name">Codeforces</span>
                  </a>
                </span>
            </span>

          
            <span id="/2020/1/round612/" class="post-meta-item leancloud_visitors" data-flag-title="Codeforces Round 612 题解" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="E-Fedya-the-Potter-Strikes-Back"><a href="#E-Fedya-the-Potter-Strikes-Back" class="headerlink" title="E Fedya the Potter Strikes Back"></a>E Fedya the Potter Strikes Back</h1><p>强制在线，维护一个串和一个数组，每次向后加一个字母和一个值，定义一个子串的权值为数组对应区间的最小值，求出所有和串的子串，满足等于相应长度的前缀条件，价值之和。</p>
<p>显然，只需要算出每次 <code>push back</code> 产生的贡献即可。</p>
<p>首先，可以动态维护一下每个前缀的 <code>border</code> 集合，遍历一遍得到答案，但是 <code>border</code> 集合的总大小可能是 $O(n^2)$ 的。因此，我们可以考虑维护 <code>border</code> 集合的变化，显然这部分是均摊 $O(n)$ 的（参考 KMP 算法证明）。</p>
<p>考虑 KMP 的过程，从上一点的 <code>fail</code>，暴力往上跳找到第一个点，其对应前缀的下一个字母等于当前字母，显然上跳的中间过程，这些前一次的 <code>border</code> 无法扩展，需要从 <code>border</code> 集合中被删除。</p>
<p>但是，这部分是不够的。还需要考虑，当前的最长 <code>border</code> 之前的转移情况，实际上等同于这个 <code>border</code> 作为前缀时的转移情况，将其丢进被删除集合即可。</p>
<p>官方题解这里给出了另外一个做法，多维护一个上跳指针，表示往上第一个后继字母与当前不同的点，每次暴力往上跳即可（次数等价于变化大小）。</p>
<p>最后，考虑如何维护出答案的增量。加入新的 <code>border</code>，删除 <code>border</code>，<code>border</code> 集合保留未删除的部分，相当于每个权值对于新加入元素对于 $w$ 取 $\min$。使用 <code>std::map</code> 维护每种取值的个数，取 $\min$ 就暴力枚举比 $w$ 大的元素。这样复杂度是均摊 $O(n \log n)$ 的，因为如果我们对同一个 <code>std::map</code> 取 $\min$，其大小（种类数）不会增加，而操作代价实质是大小的变化量。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/1/round612/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xlor.cn/2019/12/edu79/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="XLor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XLor's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/edu79/" class="post-title-link" itemprop="url">Educational Round 79 题解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-12-28 17:04:49" itemprop="dateCreated datePublished" datetime="2019-12-28T17:04:49+08:00">2019-12-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-20 19:12:34" itemprop="dateModified" datetime="2022-11-20T19:12:34+08:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/" itemprop="url" rel="index">
                    <span itemprop="name">Codeforces</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/Educational-Round/" itemprop="url" rel="index">
                    <span itemprop="name">Educational Round</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/12/edu79/" class="post-meta-item leancloud_visitors" data-flag-title="Educational Round 79 题解" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="A-New-Year-Garland"><a href="#A-New-Year-Garland" class="headerlink" title="A New Year Garland"></a>A New Year Garland</h1><h1 id="B-Verse-For-Santa"><a href="#B-Verse-For-Santa" class="headerlink" title="B Verse For Santa"></a>B Verse For Santa</h1><p>读错题了。</p>
<h1 id="C-Stack-of-Presents"><a href="#C-Stack-of-Presents" class="headerlink" title="C Stack of Presents"></a>C Stack of Presents</h1><h1 id="D-Santa’s-Bot"><a href="#D-Santa’s-Bot" class="headerlink" title="D Santa’s Bot"></a>D Santa’s Bot</h1><h1 id="E-New-Year-Permutations"><a href="#E-New-Year-Permutations" class="headerlink" title="E New Year Permutations"></a>E New Year Permutations</h1><p>定义一个长度为 $n$ 的排列合法，当且仅当，满足：排列可以划分成一系列连续的子区间，每个子区间是一个周期等于子区间长度的置换群，且子区间的第一个位置是该子区间的最大值。求长度为 $n$ 的字典序第 $k$ 大的合法排列。</p>
<p>首先，dp 出每个点开头有多个合法排列，即枚举这个点开始的子区间长度，长度为 $n$ 的合法置换群有 $(n-2)!$ 种。</p>
<p>然后，开始逐位确定，枚举当前位置应该填多少，等价于子区间的结束位置，直到方案数大于 $k$，说明子区间在这里结束。</p>
<p>这里需要生成字典序第 $k$ 的一个置换群，这里的 $k$ 等于全局的 $k$ 除掉后面的方案数（每种子区间排列对应后面的排列），全局的 $k$ 取模。</p>
<p>最后，问题就是解决生成这样的置换群，还是考虑逐位确定，使用并查集检查防止提前出现环，方案数使用 $(n-2)!$ 进行更新。</p>
<p>注意一些细节：</p>
<ul>
<li><p>使用 <code>C++</code> 防止爆 $long long$，自定义一个带上限的加法和乘法；</p>
</li>
<li><p>注意 <code>break</code>；</p>
</li>
<li><p>字典序编号为 $0$ 到总方案数减一。</p>
</li>
</ul>
<h1 id="F-New-Year-and-Handle-Change"><a href="#F-New-Year-and-Handle-Change" class="headerlink" title="F New Year and Handle Change"></a>F New Year and Handle Change</h1><p>wqs 二分。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/12/edu79/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xlor.cn/2019/12/bytedace2020selection/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="XLor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XLor's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/bytedace2020selection/" class="post-title-link" itemprop="url">2020 ByteDance 网络选拔赛</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-12-21 22:39:05" itemprop="dateCreated datePublished" datetime="2019-12-21T22:39:05+08:00">2019-12-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-20 19:12:34" itemprop="dateModified" datetime="2022-11-20T19:12:34+08:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%AD%E7%BB%83/" itemprop="url" rel="index">
                    <span itemprop="name">训练</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/12/bytedace2020selection/" class="post-meta-item leancloud_visitors" data-flag-title="2020 ByteDance 网络选拔赛" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <table>
<thead>
<tr>
<th align="center">rank</th>
<th align="center">solved</th>
<th align="center">A</th>
<th align="center">B</th>
<th align="center">C</th>
<th align="center">D</th>
<th align="center">E</th>
<th align="center">F</th>
<th align="center">G</th>
<th align="center">H</th>
<th align="center">I</th>
<th align="center">J</th>
<th align="center">K</th>
<th align="center">L</th>
<th align="center">M</th>
</tr>
</thead>
<tbody><tr>
<td align="center">36</td>
<td align="center">8</td>
<td align="center">O</td>
<td align="center">.</td>
<td align="center">O</td>
<td align="center">O</td>
<td align="center">O</td>
<td align="center">O</td>
<td align="center">.</td>
<td align="center">.</td>
<td align="center">.</td>
<td align="center">.</td>
<td align="center">O</td>
<td align="center">O</td>
<td align="center">O</td>
</tr>
</tbody></table>
<p><a target="_blank" rel="noopener" href="http://opentrains.mipt.ru/~ejudge/showres.cgi?data=bytedance2020online">榜单</a></p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/12/bytedace2020selection/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xlor.cn/2019/12/edu78/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.png">
      <meta itemprop="name" content="XLor">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XLor's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/12/edu78/" class="post-title-link" itemprop="url">Educational Round 78 题解</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-12-20 16:15:50" itemprop="dateCreated datePublished" datetime="2019-12-20T16:15:50+08:00">2019-12-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-11-20 19:12:34" itemprop="dateModified" datetime="2022-11-20T19:12:34+08:00">2022-11-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/" itemprop="url" rel="index">
                    <span itemprop="name">Codeforces</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/Educational-Round/" itemprop="url" rel="index">
                    <span itemprop="name">Educational Round</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/12/edu78/" class="post-meta-item leancloud_visitors" data-flag-title="Educational Round 78 题解" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="A-Shuffle-Hashing"><a href="#A-Shuffle-Hashing" class="headerlink" title="A Shuffle Hashing"></a>A Shuffle Hashing</h1><p>给定一个串 $s$，随机打乱顺序后，询问是否可能是 $t$ 的子串。</p>
<p>暴力枚举 $t$ 的每个子串。</p>
<h1 id="B-A-and-B"><a href="#B-A-and-B" class="headerlink" title="B A and B"></a>B A and B</h1><p>智商没对上 T^T。</p>
<p>给定两个整数 $a,b$，第 $i$ 轮选一个数加 $i$，最小多少轮两数相同。</p>
<p>相当于将 $1,2,\dots,n$ 分配到两个数组中，一个和为 $s$ 另一个和为 $t$，且 $s+t&#x3D;n(n+1)&#x2F;2,s-t&#x3D;|a-b|$。</p>
<h1 id="C-Berry-Jam"><a href="#C-Berry-Jam" class="headerlink" title="C Berry Jam"></a>C Berry Jam</h1><h1 id="D-Segment-Tree"><a href="#D-Segment-Tree" class="headerlink" title="D Segment Tree"></a>D Segment Tree</h1><p>给定 $n$ 条线段，两条线段之间连边当且仅当相交不包含，端点为 $1$ 到 $2n$ 的排列。</p>
<p>扫描线，枚举所有与给线段相交不包含的部分，并查集合并，如果出现环则停止。最多暴力合并 $n$ 次。</p>
<p>最后检查一下并查集完全联通。</p>
<h1 id="E-Tests-for-problem-D"><a href="#E-Tests-for-problem-D" class="headerlink" title="E Tests for problem D"></a>E Tests for problem D</h1><p>给定一张图，生成一下 D 题的线段。</p>
<p>递归地进行构造，对于子树 $u$，他的左端点为 $l_u$，右端点位置是 $r_u+deg_u+1$（$l_u,r_u$ 为递归参数）。</p>
<p>对于他的所有儿子结点，都与 $u$ 线段相交，并且兄弟结点依次包含，左端点会从右边 $r_u+deg_u$ 一直放到 $r_u+1$。</p>
<p>考虑右端点的限制，因为需要包含前面的兄弟的子树内结点，因此右端点需要往右偏移一段，即上一个兄弟的子树大小的两倍减一（减一由于根节点的左端点在 $u$ 的内部，$u$ 外部的点数为两倍减一）。</p>
<p>初始时，$l_1&#x3D;r_1&#x3D;1$。</p>
<h1 id="F-Cards"><a href="#F-Cards" class="headerlink" title="F Cards"></a>F Cards</h1><p>随机变量 $X$ 服从 $B(n,p)$，求 $E(X^k)$。</p>
<p>根据斯特林数展开</p>
<p>$$<br>E[X^k]&#x3D;\sum_{i&#x3D;0}^k S(k,i) E[X(X-1)\dots (X-i+1)]<br>$$</p>
<p>伯努利分布的 $i$ 次下降幂</p>
<p>$$<br>E[X(X-1)\dots (X-i+1)]&#x3D;A(n,i)p^i<br>$$</p>
<p>带入得到答案。</p>
<p>参考资料：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Factorial_moment#Binomial_distribution">Factorial_moment</a> 和 <a target="_blank" rel="noopener" href="https://math.stackexchange.com/questions/524050/what-is-the-kth-factorial-moment-of-the-binomial-distribution">What is the kth factorial moment of the binomial distribution?</a>。</p>
<p>考虑直接推式子，实际上等价于上面下降幂的推导过程<br>$$<br>E(X^k)&#x3D;\sum_{i&#x3D;0}^n  {n \choose i} \frac{1}{m}^i(1-\frac{1}{m})^{n-i} i^k  \<br>&#x3D;\sum_{j&#x3D;0}^{k} S(k,j) \sum_{i&#x3D;0}^n {n \choose i} \frac{1}{m}^i(1-\frac{1}{m})^{n-i} A(i,j)<br>$$</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/12/edu78/#more" rel="contents">
                阅读全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/30/">30</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="XLor"
      src="/uploads/avatar.png">
  <p class="site-author-name" itemprop="name">XLor</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">297</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">53</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yjl9903" title="GitHub &amp;rarr; https:&#x2F;&#x2F;github.com&#x2F;yjl9903" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:yjl9903@vip.qq.com" title="E-Mail &amp;rarr; mailto:yjl9903@vip.qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://einsturing.top/" title="http:&#x2F;&#x2F;einsturing.top&#x2F;" rel="noopener" target="_blank">Einsturing</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://houwenda.github.io/" title="http:&#x2F;&#x2F;houwenda.github.io&#x2F;" rel="noopener" target="_blank">漏断</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://hadeseve.github.io/" title="http:&#x2F;&#x2F;hadeseve.github.io&#x2F;" rel="noopener" target="_blank">Hadeseve</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.cnblogs.com/guaguastandup" title="https:&#x2F;&#x2F;www.cnblogs.com&#x2F;guaguastandup" rel="noopener" target="_blank">Guaguastandup</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">XLor</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v6.1.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.5.0
  </div>

        






  <script>
  function leancloudSelector(url) {
    return document.getElementById(url).querySelector('.leancloud-visitors-count');
  }
  if (CONFIG.page.isPost) {
    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = visitors.getAttribute('id').trim();
      var title = visitors.getAttribute('data-flag-title').trim();

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .then(response => response.json())
              .then(() => {
                leancloudSelector(url).innerText = counter.time + 1;
              })
              .catch(error => {
                console.log('Failed to save visitor count', error);
              })
          } else {
              Counter('post', '/classes/Counter', { title: title, url: url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.log('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.log('LeanCloud Counter Error', error);
        });
    }
  } else {
    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return element.getAttribute('id').trim();
      });

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url: { '$in': entries } })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length === 0) {
            document.querySelectorAll('.leancloud_visitors .leancloud-visitors-count').forEach(element => {
              element.innerText = 0;
            });
            return;
          }
          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.url;
            var time = item.time;
            leancloudSelector(url).innerText = time;
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = leancloudSelector(url);
            if (element.innerText == '') {
              element.innerText = 0;
            }
          }
        })
        .catch(error => {
          console.log('LeanCloud Counter Error', error);
        });
    }
  }

  fetch('https://app-router.leancloud.cn/2/route?appId=dIlkELFC1m1jaSEfQMqGorAG-gzGzoHsz')
    .then(response => response.json())
    .then(({ api_server }) => {
      var Counter = (method, url, data) => {
        return fetch(`https://${api_server}/1.1${url}`, {
          method: method,
          headers: {
            'X-LC-Id': 'dIlkELFC1m1jaSEfQMqGorAG-gzGzoHsz',
            'X-LC-Key': 'L1NlHmYVsJjI0IDUy2337S8I',
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        const localhost = /http:\/\/(localhost|127.0.0.1|0.0.0.0)/;
        if (localhost.test(document.URL)) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    });
  </script>






        
      </div>
    </footer>
  </div>

  
  
  <script color='0,0,0' opacity='0.5' zIndex='-1' count='99' src="https://cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>














  

  
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  

</body>
</html>
